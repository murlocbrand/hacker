(function(){var e=new JailedSite(connection);delete JailedSite,delete connection,e.onGetInterface(function(){r()}),e.onRemoteUpdate(function(){application.remote=e.getRemote()});var t=!1,n=[],r=function(){if(!t){t=!0;for(var e=0;e<n.length;e++)n[e].call(null)}},i=function(e){var t=typeof e;if(t!="function"){var n="A function may only be subsribed to the event, "+t+" was provided instead";throw new Error(n)}return e};application.whenConnected=function(e){e=i(e),t?e():n.push(e)},application.setInterface=function(t){e.setInterface(t)},application.disconnect=function(t){e.disconnect()}})();